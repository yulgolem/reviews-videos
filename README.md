# Apress::Videos

Гем для хранения видео.

При установке создается таблица videos, где subject_id - идентификатор сущности, к которой оставлено видео (может быть комментарий, к примеру), а subject_type - строковое описание типа сущности.

Провайдеры видео хранятся в /config/providers.yml.

До валидации видео пытается найти провайдера и сохранить в таблице, если не находит- выводит сообщение об ошибке.
Валидируется по наличию провайдера и ссылке, при сохранении ссылка обрезается по регэкспу.

После сохранения запускается задание Resque Apress::Videos::ReceiveOembedJob с экспоненциальными таймаутами на повторные выполнения. Задание пытается получить у провайдера oembed для сохранения в базу.
